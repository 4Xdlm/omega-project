{
  "module_id": "segment-engine",
  "exports": {
    "classes": [
      "CarryBuffer",
      "InvariantError",
      "NewlineNormalizer"
    ],
    "functions": [
      "assertAllInvariants",
      "assertCharCountCoherent",
      "assertHashValid",
      "assertIndexMonotone",
      "assertNoCarriageReturn",
      "assertNonEmpty",
      "assertOffsetsValid",
      "assertSliceExact",
      "assertWordCountPositive",
      "calculateSegmentationHash",
      "countLines",
      "countWords",
      "getFileSize",
      "hashObject",
      "isAfterAbbreviation",
      "isDecimalNumber",
      "isProtectedAbbreviation",
      "isWhitespace",
      "normalizeText",
      "segmentText",
      "selfTest",
      "sha256Hex",
      "shortHash",
      "shouldStream",
      "skipWhitespace",
      "stableStringify",
      "trimSpan"
    ],
    "interfaces": [
      "CarryResult",
      "NormalizationResult",
      "NormalizedChunk",
      "RawSpan",
      "Segment",
      "SegmentationOptions",
      "SegmentationResult",
      "StreamProgress",
      "StreamSegment",
      "StreamSegmentOptions",
      "StreamSegmentationResult",
      "UTF8Chunk",
      "UTF8StreamOptions"
    ],
    "types": [
      "NewlinePolicy",
      "SegmentMode"
    ]
  },
  "signatures": [
    "assertAllInvariants(originalText: string, segments: readonly Segment[]): void",
    "assertCharCountCoherent(segments: readonly Segment[]): void",
    "assertHashValid(hash: string): void",
    "assertIndexMonotone(segments: readonly Segment[]): void",
    "assertNoCarriageReturn(originalText: string, segments: readonly Segment[]): void",
    "assertNonEmpty(segments: readonly Segment[]): void",
    "assertOffsetsValid(originalText: string, segments: readonly Segment[]): void",
    "assertSliceExact(originalText: string, segment: Segment): void",
    "assertWordCountPositive(segments: readonly Segment[]): void",
    "calculateSegmentationHash(segments: readonly StreamSegment[]): string",
    "countLines(text: string): number",
    "countWords(text: string): number",
    "getFileSize(filePath: string): number",
    "hashObject(obj: unknown): string",
    "isAfterAbbreviation(text: string, dotIndex: number, abbreviations?: readonly string[]): boolean",
    "isDecimalNumber(text: string, dotIndex: number): boolean",
    "isProtectedAbbreviation(text: string, dotIndex: number, abbreviations?: readonly string[]): boolean",
    "isWhitespace(ch: string): boolean",
    "normalizeText(text: string, policy?: NewlinePolicy): NormalizationResult",
    "segmentText(text: string, options?: SegmentationOptions): SegmentationResult",
    "selfTest(): boolean",
    "sha256Hex(input: string): string",
    "shortHash(input: string, len?: number): string",
    "shouldStream(filePath: string, thresholdMB?: number): boolean",
    "skipWhitespace(input: string, from: number): number",
    "stableStringify(value: unknown): string",
    "trimSpan(text: string, start: number, end: number): { start: number; end: number }"
  ],
  "constants": [
    "ABBREVIATIONS_DEFAULT",
    "ABBREVIATIONS_EN",
    "ABBREVIATIONS_FR",
    "MODULE_NAME",
    "NEXUS",
    "PROTECTED_PATTERNS",
    "STANDARD",
    "VERSION"
  ]
}
