#!/bin/sh
# OMEGA Pre-Commit Hook
# Version: 3.92.0
# Standard: NASA-Grade L4 / DO-178C Level A
#
# This hook runs fast validation (<5s) before each commit.
# Install with: scripts/githooks/install-hooks.ps1

echo "[OMEGA] Pre-commit hook starting..."

# Run constitution gate in pre-commit mode
node scripts/gates/constitution-gate.cjs pre-commit
EXIT_CODE=$?

if [ $EXIT_CODE -ne 0 ]; then
    echo "[OMEGA] Pre-commit hook FAILED"
    exit 1
fi

echo "[OMEGA] Pre-commit hook PASSED"
exit 0
